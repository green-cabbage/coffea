<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PackedSelection &mdash; coffea 0.1.dev1+g41f0162 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=faef4285"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=83e3a9fa"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="WeightStatistics" href="coffea.analysis_tools.WeightStatistics.html" />
    <link rel="prev" title="NminusOneToNpz" href="coffea.analysis_tools.NminusOneToNpz.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            coffea
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installing coffea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Coffea by Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Coffea concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">API Reference Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../modules/coffea.analysis_tools.html">coffea.analysis_tools</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../modules/coffea.analysis_tools.html#classes">Classes</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="coffea.analysis_tools.Cutflow.html">Cutflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="coffea.analysis_tools.CutflowToNpz.html">CutflowToNpz</a></li>
<li class="toctree-l4"><a class="reference internal" href="coffea.analysis_tools.NminusOne.html">NminusOne</a></li>
<li class="toctree-l4"><a class="reference internal" href="coffea.analysis_tools.NminusOneToNpz.html">NminusOneToNpz</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">PackedSelection</a></li>
<li class="toctree-l4"><a class="reference internal" href="coffea.analysis_tools.WeightStatistics.html">WeightStatistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="coffea.analysis_tools.Weights.html">Weights</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../modules/coffea.analysis_tools.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.btag_tools.html">coffea.btag_tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.dataset_tools.html">coffea.dataset_tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.jetmet_tools.html">coffea.jetmet_tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.lookup_tools.html">coffea.lookup_tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.lumi_tools.html">coffea.lumi_tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.ml_tools.html">coffea.ml_tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.nanoevents.html">coffea.nanoevents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.nanoevents.methods.base.html">coffea.nanoevents.methods.base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.nanoevents.methods.candidate.html">coffea.nanoevents.methods.candidate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.nanoevents.methods.nanoaod.html">coffea.nanoevents.methods.nanoaod</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.nanoevents.methods.vector.html">coffea.nanoevents.methods.vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.processor.html">coffea.processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/coffea.util.html">coffea.util</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">coffea</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../reference.html">API Reference Guide</a></li>
          <li class="breadcrumb-item"><a href="../modules/coffea.analysis_tools.html">coffea.analysis_tools</a></li>
      <li class="breadcrumb-item active">PackedSelection</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/coffea.analysis_tools.PackedSelection.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="packedselection">
<h1>PackedSelection<a class="headerlink" href="#packedselection" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coffea.analysis_tools.</span></span><span class="sig-name descname"><span class="pre">PackedSelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'uint32'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/CoffeaTeam/coffea/blob/41f01622a26346c9b0b5a5ac8d77372b6dcdd0f9/src/coffea/analysis_tools.py#L1044"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#coffea.analysis_tools.PackedSelection" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Store several boolean arrays in a compact manner</p>
<p>This class can store several boolean arrays in a memory-efficient mannner
and evaluate arbitrary combinations of boolean requirements in an CPU-efficient way.
Supported inputs are 1D numpy or awkward arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dtype</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.26)"><em>numpy.dtype</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – internal bitwidth of the packed array, which governs the maximum
number of selections storable in this object. The default value
is <code class="docutils literal notranslate"><span class="pre">uint32</span></code>, which allows up to 32 booleans to be stored, but
if a smaller or larger number of selections needs to be stored,
one can choose <code class="docutils literal notranslate"><span class="pre">uint16</span></code> or <code class="docutils literal notranslate"><span class="pre">uint64</span></code> instead.</p>
</dd>
</dl>
<p class="rubric">Attributes Summary</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.delayed_mode" title="coffea.analysis_tools.PackedSelection.delayed_mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">delayed_mode</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.maxitems" title="coffea.analysis_tools.PackedSelection.maxitems"><code class="xref py py-obj docutils literal notranslate"><span class="pre">maxitems</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.names" title="coffea.analysis_tools.PackedSelection.names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">names</span></code></a></p></td>
<td><p>Current list of mask names available</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.add" title="coffea.analysis_tools.PackedSelection.add"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add</span></code></a>(name, selection[, fill_value])</p></td>
<td><p>Add a new boolean array</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.add_multiple" title="coffea.analysis_tools.PackedSelection.add_multiple"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_multiple</span></code></a>(selections[, fill_value])</p></td>
<td><p>Add multiple boolean arrays at once, see <code class="docutils literal notranslate"><span class="pre">add</span></code> for details</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.all" title="coffea.analysis_tools.PackedSelection.all"><code class="xref py py-obj docutils literal notranslate"><span class="pre">all</span></code></a>(*names)</p></td>
<td><p>Shorthand for <a class="reference internal" href="#coffea.analysis_tools.PackedSelection.require" title="coffea.analysis_tools.PackedSelection.require"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">require</span></code></a>, where all the values are True.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.allfalse" title="coffea.analysis_tools.PackedSelection.allfalse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">allfalse</span></code></a>(*names)</p></td>
<td><p>Shorthand for <a class="reference internal" href="#coffea.analysis_tools.PackedSelection.require" title="coffea.analysis_tools.PackedSelection.require"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">require</span></code></a>, where all the values are False.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.any" title="coffea.analysis_tools.PackedSelection.any"><code class="xref py py-obj docutils literal notranslate"><span class="pre">any</span></code></a>(*names)</p></td>
<td><p>Return a mask vector corresponding to an inclusive OR of requirements</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.cutflow" title="coffea.analysis_tools.PackedSelection.cutflow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cutflow</span></code></a>(*names)</p></td>
<td><p>Compute the cutflow for a set of selections</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.nminusone" title="coffea.analysis_tools.PackedSelection.nminusone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nminusone</span></code></a>(*names)</p></td>
<td><p>Compute the &quot;N-1&quot; style selection for a set of selections</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coffea.analysis_tools.PackedSelection.require" title="coffea.analysis_tools.PackedSelection.require"><code class="xref py py-obj docutils literal notranslate"><span class="pre">require</span></code></a>(**names)</p></td>
<td><p>Return a mask vector corresponding to specific requirements</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.delayed_mode">
<span class="sig-name descname"><span class="pre">delayed_mode</span></span><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.delayed_mode" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.maxitems">
<span class="sig-name descname"><span class="pre">maxitems</span></span><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.maxitems" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.names">
<span class="sig-name descname"><span class="pre">names</span></span><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.names" title="Link to this definition"></a></dt>
<dd><p>Current list of mask names available</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/CoffeaTeam/coffea/blob/41f01622a26346c9b0b5a5ac8d77372b6dcdd0f9/src/coffea/analysis_tools.py#L1157"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.add" title="Link to this definition"></a></dt>
<dd><p>Add a new boolean array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – name of the selection</p></li>
<li><p><strong>selection</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.26)"><em>numpy.ndarray</em></a><em> or </em><em>awkward.Array</em>) – a flat array of type <code class="docutils literal notranslate"><span class="pre">bool</span></code> or <code class="docutils literal notranslate"><span class="pre">?bool</span></code>.
If this is not the first selection added, it must also have
the same shape as previously added selections. If the array
is option-type, null entries will be filled with <code class="docutils literal notranslate"><span class="pre">fill_value</span></code>.</p></li>
<li><p><strong>fill_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – All masked entries will be filled as specified (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.add_multiple">
<span class="sig-name descname"><span class="pre">add_multiple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selections</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/CoffeaTeam/coffea/blob/41f01622a26346c9b0b5a5ac8d77372b6dcdd0f9/src/coffea/analysis_tools.py#L1182"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.add_multiple" title="Link to this definition"></a></dt>
<dd><p>Add multiple boolean arrays at once, see <code class="docutils literal notranslate"><span class="pre">add</span></code> for details</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>selections</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – a dictionary of selections, in the form <code class="docutils literal notranslate"><span class="pre">{name:</span> <span class="pre">selection}</span></code></p></li>
<li><p><strong>fill_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – All masked entries will be filled as specified (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.all">
<span class="sig-name descname"><span class="pre">all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/CoffeaTeam/coffea/blob/41f01622a26346c9b0b5a5ac8d77372b6dcdd0f9/src/coffea/analysis_tools.py#L1236"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.all" title="Link to this definition"></a></dt>
<dd><p>Shorthand for <a class="reference internal" href="#coffea.analysis_tools.PackedSelection.require" title="coffea.analysis_tools.PackedSelection.require"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">require</span></code></a>, where all the values are True.
If no arguments are given, all the added selections are required to be True.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.allfalse">
<span class="sig-name descname"><span class="pre">allfalse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/CoffeaTeam/coffea/blob/41f01622a26346c9b0b5a5ac8d77372b6dcdd0f9/src/coffea/analysis_tools.py#L1244"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.allfalse" title="Link to this definition"></a></dt>
<dd><p>Shorthand for <a class="reference internal" href="#coffea.analysis_tools.PackedSelection.require" title="coffea.analysis_tools.PackedSelection.require"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">require</span></code></a>, where all the values are False.
If no arguments are given, all the added selections are required to be False.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.any">
<span class="sig-name descname"><span class="pre">any</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/CoffeaTeam/coffea/blob/41f01622a26346c9b0b5a5ac8d77372b6dcdd0f9/src/coffea/analysis_tools.py#L1252"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.any" title="Link to this definition"></a></dt>
<dd><p>Return a mask vector corresponding to an inclusive OR of requirements</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*names</strong> (<em>args</em>) – The named selections to allow</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>If</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span><span class="o">.</span><span class="n">names</span>
<span class="go">[&#39;cut1&#39;, &#39;cut2&#39;, &#39;cut3&#39;]</span>
</pre></div>
</div>
<p>then</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="s2">&quot;cut1&quot;</span><span class="p">,</span> <span class="s2">&quot;cut2&quot;</span><span class="p">)</span>
<span class="go">array([True, False, True, ...])</span>
</pre></div>
</div>
<p>returns a boolean array where an entry is True if the corresponding entries
<code class="docutils literal notranslate"><span class="pre">cut1</span> <span class="pre">==</span> <span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">cut2</span> <span class="pre">==</span> <span class="pre">False</span></code>, and <code class="docutils literal notranslate"><span class="pre">cut3</span></code> arbitrary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.cutflow">
<span class="sig-name descname"><span class="pre">cutflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/CoffeaTeam/coffea/blob/41f01622a26346c9b0b5a5ac8d77372b6dcdd0f9/src/coffea/analysis_tools.py#L1331"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.cutflow" title="Link to this definition"></a></dt>
<dd><p>Compute the cutflow for a set of selections</p>
<p>Returns an object which can return a list of the number of events that pass all the previous selections including the current one
after each named selection is applied consecutively. The first element
of the returned list is the total number of events before any selections are applied.
The last element is the final number of events that pass after all the selections are applied.
Can also return a cutflow histogram as a <code class="docutils literal notranslate"><span class="pre">hist.Hist</span></code> object where the bin heights are the number of events of the cutflow list.
If the PackedSelection is in delayed mode, the elements of the list will be dask_awkward Arrays that can be computed whenever the user wants.
If the histogram is requested, those delayed arrays will be computed in the process in order to set the bin heights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*names</strong> (<em>args</em>) – The named selections to use, need to be a subset of the selections already added</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>res</strong> – A wrapper class for the results, see the documentation for that class for more details</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="coffea.analysis_tools.Cutflow.html#coffea.analysis_tools.Cutflow" title="coffea.analysis_tools.Cutflow">coffea.analysis_tools.Cutflow</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.nminusone">
<span class="sig-name descname"><span class="pre">nminusone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/CoffeaTeam/coffea/blob/41f01622a26346c9b0b5a5ac8d77372b6dcdd0f9/src/coffea/analysis_tools.py#L1286"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.nminusone" title="Link to this definition"></a></dt>
<dd><p>Compute the “N-1” style selection for a set of selections</p>
<p>The N-1 style selection for a set of selections, returns an object which can return a list of the number of events
that pass all the other selections ignoring one at a time. The first element of the returned list
is the total number of events before any selections are applied.
The last element is the final number of events that pass if all selections are applied.
It also returns a list of boolean mask vectors of which events pass the N-1 selection each time.
Can also return a histogram as a <code class="docutils literal notranslate"><span class="pre">hist.Hist</span></code> object where the bin heights are the number of events of the N-1 selection list.
If the PackedSelection is in delayed mode, the elements of those lists will be dask_awkward Arrays that can be computed whenever the user wants.
If the histogram is requested, the delayed arrays of the number of events list will be computed in the process in order to set the bin heights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*names</strong> (<em>args</em>) – The named selections to use, need to be a subset of the selections already added</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>res</strong> – A wrapper class for the results, see the documentation for that class for more details</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="coffea.analysis_tools.NminusOne.html#coffea.analysis_tools.NminusOne" title="coffea.analysis_tools.NminusOne">coffea.analysis_tools.NminusOne</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coffea.analysis_tools.PackedSelection.require">
<span class="sig-name descname"><span class="pre">require</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/CoffeaTeam/coffea/blob/41f01622a26346c9b0b5a5ac8d77372b6dcdd0f9/src/coffea/analysis_tools.py#L1195"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#coffea.analysis_tools.PackedSelection.require" title="Link to this definition"></a></dt>
<dd><p>Return a mask vector corresponding to specific requirements</p>
<p>Specify an exact requirement on an arbitrary subset of the masks</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**names</strong> (<em>kwargs</em>) – Each argument to require specific value for, in form <code class="docutils literal notranslate"><span class="pre">arg=True</span></code>
or <code class="docutils literal notranslate"><span class="pre">arg=False</span></code>.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>If</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span><span class="o">.</span><span class="n">names</span>
<span class="go">[&#39;cut1&#39;, &#39;cut2&#39;, &#39;cut3&#39;]</span>
</pre></div>
</div>
<p>then</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="n">cut1</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cut2</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">array([True, False, True, ...])</span>
</pre></div>
</div>
<p>returns a boolean array where an entry is True if the corresponding entries
<code class="docutils literal notranslate"><span class="pre">cut1</span> <span class="pre">==</span> <span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">cut2</span> <span class="pre">==</span> <span class="pre">False</span></code>, and <code class="docutils literal notranslate"><span class="pre">cut3</span></code> arbitrary.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="coffea.analysis_tools.NminusOneToNpz.html" class="btn btn-neutral float-left" title="NminusOneToNpz" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="coffea.analysis_tools.WeightStatistics.html" class="btn btn-neutral float-right" title="WeightStatistics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Fermi National Accelerator Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>