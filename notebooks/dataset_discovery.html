<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dataset discovery tools &mdash; coffea 0.1.dev1+g41f0162 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=faef4285"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=83e3a9fa"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PackedSelection in Coffea 2023" href="packedselection.html" />
    <link rel="prev" title="Running inference tools" href="mltools.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            coffea
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installing coffea</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">Coffea by Example</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nanoevents.html">Reading data with coffea NanoEvents</a></li>
<li class="toctree-l2"><a class="reference internal" href="applying_corrections.html">Applying corrections to columnar data</a></li>
<li class="toctree-l2"><a class="reference internal" href="processor.html">Coffea Processors</a></li>
<li class="toctree-l2"><a class="reference internal" href="mltools.html">Running inference tools</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dataset discovery tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Using-Rucio-utils-directly">Using Rucio utils directly</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Dataset-replicas">Dataset replicas</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Filtering-sites">Filtering sites</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Using-the-DataDiscoveryCLI">Using the DataDiscoveryCLI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Filtering sites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Save-the-replicas-metadata">Save the replicas metadata</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#DataDiscoveryCLI-from-shell">DataDiscoveryCLI from shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Preprocess-the-fileset-with-dask">Preprocess the fileset with dask</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packedselection.html">PackedSelection in Coffea 2023</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Coffea concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">API Reference Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">coffea</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../examples.html">Coffea by Example</a></li>
      <li class="breadcrumb-item active">Dataset discovery tools</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebooks/dataset_discovery.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Dataset-discovery-tools">
<h1>Dataset discovery tools<a class="headerlink" href="#Dataset-discovery-tools" title="Link to this heading"></a></h1>
<p>This notebook shows some features to make the dataset discovery for CMS analysis easier. The rucio sytem is queried to look for dataset and access to the list of all available file replicas.</p>
<p>Users can exploit these tools at 2 different levels: - low level: use the <code class="docutils literal notranslate"><span class="pre">rucio_utils</span></code> module directly to just query rucio - high level: use the <code class="docutils literal notranslate"><span class="pre">DataDiscoveryCLI</span></code> class to simplify dataset query, replicas filters and uproot preprocessing with dask</p>
<section id="Using-Rucio-utils-directly">
<h2>Using Rucio utils directly<a class="headerlink" href="#Using-Rucio-utils-directly" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">coffea.dataset_tools</span> <span class="kn">import</span> <span class="n">rucio_utils</span>
<span class="kn">from</span> <span class="nn">coffea.dataset_tools.dataset_query</span> <span class="kn">import</span> <span class="n">print_dataset_query</span>
<span class="kn">from</span> <span class="nn">rich.console</span> <span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span> <span class="nn">rich.table</span> <span class="kn">import</span> <span class="n">Table</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">rucio_utils</span><span class="o">.</span><span class="n">get_rucio_client</span><span class="p">()</span>
<span class="n">client</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;rucio.client.client.Client at 0x7f9bd2277fd0&gt;
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;/TTToSemiLeptonic_*_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9*/NANOAODSIM&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outlist</span><span class="p">,</span> <span class="n">outtree</span> <span class="o">=</span> <span class="n">rucio_utils</span><span class="o">.</span><span class="n">query_dataset</span><span class="p">(</span>
                <span class="n">query</span><span class="p">,</span>
                <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
                <span class="n">tree</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;cms&quot;</span><span class="p">,</span>
            <span class="p">)</span>

<span class="n">outlist</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;/TTToSemiLeptonic_TuneCP5CR1_erdON_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NANOAODSIM&#39;,
 &#39;/TTToSemiLeptonic_TuneCP5CR2_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2/NANOAODSIM&#39;,
 &#39;/TTToSemiLeptonic_TuneCP5_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NANOAODSIM&#39;,
 &#39;/TTToSemiLeptonic_TuneCP5_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-20UL18JMENano_106X_upgrade2018_realistic_v16_L1v1-v1/NANOAODSIM&#39;]
</pre></div></div>
</div>
<p>Let’s now pretty-print the results in a table using an utility function in the <code class="docutils literal notranslate"><span class="pre">dataset_query</span></code> module.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
<span class="n">print_dataset_query</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">outtree</span><span class="p">,</span> <span class="n">console</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">              Query: </span><span style="color: #800000; text-decoration-color: #800000; font-weight: bold; font-style: italic">/TTToSemiLeptonic_*_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9*/NANOAODSIM</span><span style="font-style: italic">               </span>
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳┓
┃<span style="font-weight: bold"> Name                              </span>┃<span style="font-weight: bold"> Tag                                                                        </span>┃<span style="font-weight: bold"></span>┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇┩
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_TuneCP5CR1_13Te… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(1)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2/NAN… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_TuneCP5CR1_erdO… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(2)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NAN… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_TuneCP5CR2_13Te… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(3)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2/NAN… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_TuneCP5_13TeV-p… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(4)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NAN… </span>││
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf">                                   </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(5)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-20UL18JMENano_106X_upgrade2018_realistic_v… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
│<span style="color: #008080; text-decoration-color: #008080">                                   </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(6)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-PUForMUOVal_106X_upgrade2018_realistic_v16… </span>││
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf">                                   </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(7)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-PUForTRK_TRK_106X_upgrade2018_realistic_v1… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
│<span style="color: #008080; text-decoration-color: #008080">                                   </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(8)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-PUForTRKv2_TRKv2_106X_upgrade2018_realisti… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_TuneCP5_erdON_1… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(9)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NAN… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_TuneCP5down_13T… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(10)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_TuneCP5up_13TeV… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(11)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_Vcb_TuneCP5_13T… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(12)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2/NA… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_hdampDOWN_TuneC… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(13)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_hdampUP_TuneCP5… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(14)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_mtop166p5_TuneC… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(15)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_mtop169p5_TuneC… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(16)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_mtop171p5_TuneC… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(17)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_mtop173p5_TuneC… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(18)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_mtop175p5_TuneC… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(19)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_mtop178p5_TuneC… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(20)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_widthx0p55_Tune… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(21)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_widthx0p7_TuneC… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(22)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_widthx0p85_Tune… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(23)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_widthx1p15_Tune… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(24)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>││
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> TTToSemiLeptonic_widthx1p3_TuneC… </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> </span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf; font-weight: bold">(25)</span><span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f"></span>│
├───────────────────────────────────┼────────────────────────────────────────────────────────────────────────────┼┤
│<span style="color: #008080; text-decoration-color: #008080"> TTToSemiLeptonic_widthx1p45_Tune… </span>│<span style="color: #800080; text-decoration-color: #800080"> </span><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">(26)</span><span style="color: #800080; text-decoration-color: #800080"> RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NA… </span>││
└───────────────────────────────────┴────────────────────────────────────────────────────────────────────────────┴┘
</pre></div>
</div>
<section id="Dataset-replicas">
<h3>Dataset replicas<a class="headerlink" href="#Dataset-replicas" title="Link to this heading"></a></h3>
<p>Let’s select one dataset and look for available replicas</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="n">outlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">dataset</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;/TTToSemiLeptonic_TuneCP5CR1_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2/NANOAODSIM&#39;
</pre></div></div>
</div>
<p>Using the option <code class="docutils literal notranslate"><span class="pre">mode='full'</span></code> in the function <code class="docutils literal notranslate"><span class="pre">rucio_utils.get_dataset_file_replicas()</span></code> one gets all the available replicas.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="p">(</span>
        <span class="n">outfiles</span><span class="p">,</span>
        <span class="n">outsites</span><span class="p">,</span>
        <span class="n">sites_counts</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="n">rucio_utils</span><span class="o">.</span><span class="n">get_dataset_files_replicas</span><span class="p">(</span>
        <span class="n">dataset</span><span class="p">,</span>
        <span class="n">allowlist_sites</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">blocklist_sites</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">regex_sites</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">,</span>   <span class="c1"># full or first. &quot;full&quot;==all the available replicas</span>
        <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">[red bold] Exception: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">[/]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_replicas</span><span class="p">(</span><span class="n">sites_counts</span><span class="p">):</span>
    <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[cyan]Sites availability for dataset: [red]</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Available replicas&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Index&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Site&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;cyan&quot;</span><span class="p">,</span> <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Files&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Availability&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">row_styles</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dim&quot;</span><span class="p">,</span> <span class="s2">&quot;none&quot;</span><span class="p">]</span>
    <span class="n">Nfiles</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">outfiles</span><span class="p">)</span>

    <span class="n">sorted_sites</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="nb">sorted</span><span class="p">(</span><span class="n">sites_counts</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">stat</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sorted_sites</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">site</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="n">Nfiles</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="o">*</span><span class="mi">100</span><span class="o">/</span><span class="n">Nfiles</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span>
        <span class="p">)</span>
    <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">print_replicas</span><span class="p">(</span><span class="n">sites_counts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008080; text-decoration-color: #008080">Sites availability for dataset: </span>
<span style="color: #800000; text-decoration-color: #800000">/TTToSemiLeptonic_TuneCP5CR1_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2</span>
<span style="color: #800000; text-decoration-color: #800000">/NANOAODSIM</span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                    Available replicas                    </span>
┏━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Index </span>┃<span style="font-weight: bold"> Site                </span>┃<span style="font-weight: bold"> Files     </span>┃<span style="font-weight: bold"> Availability </span>┃
┡━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━┩
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   0   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_DE_DESY          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 294 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   1   │<span style="color: #008080; text-decoration-color: #008080"> T1_DE_KIT_Disk      </span>│<span style="color: #800080; text-decoration-color: #800080"> 294 / 294 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   2   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_UK_RAL_Disk      </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 294 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   3   │<span style="color: #008080; text-decoration-color: #008080"> T1_RU_JINR_Disk     </span>│<span style="color: #800080; text-decoration-color: #800080"> 294 / 294 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   4   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T3_CH_PSI           </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 294 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   5   │<span style="color: #008080; text-decoration-color: #008080"> T3_KR_UOS           </span>│<span style="color: #800080; text-decoration-color: #800080"> 294 / 294 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   6   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_US_FNAL_Disk     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 193 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    65.6%     </span>│
│   7   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Nebraska      </span>│<span style="color: #800080; text-decoration-color: #800080"> 99 / 294  </span>│    33.7%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   8   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_IT_CNAF_Disk     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 58 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    19.7%     </span>│
│   9   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Purdue        </span>│<span style="color: #800080; text-decoration-color: #800080"> 53 / 294  </span>│    18.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  10   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_BE_IIHE          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 50 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    17.0%     </span>│
│  11   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_MIT           </span>│<span style="color: #800080; text-decoration-color: #800080"> 50 / 294  </span>│    17.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  12   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_ES_PIC_Disk      </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 43 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    14.6%     </span>│
│  13   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Vanderbilt    </span>│<span style="color: #800080; text-decoration-color: #800080"> 40 / 294  </span>│    13.6%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  14   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_BR_SPRACE        </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 39 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    13.3%     </span>│
│  15   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Florida       </span>│<span style="color: #800080; text-decoration-color: #800080"> 33 / 294  </span>│    11.2%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  16   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_IT_Legnaro       </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 28 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     9.5%     </span>│
│  17   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_UCSD          </span>│<span style="color: #800080; text-decoration-color: #800080"> 28 / 294  </span>│     9.5%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  18   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_UA_KIPT          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 26 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     8.8%     </span>│
│  19   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Caltech       </span>│<span style="color: #800080; text-decoration-color: #800080"> 24 / 294  </span>│     8.2%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  20   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_US_Wisconsin     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 22 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     7.5%     </span>│
│  21   │<span style="color: #008080; text-decoration-color: #008080"> T2_TR_METU          </span>│<span style="color: #800080; text-decoration-color: #800080"> 18 / 294  </span>│     6.1%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  22   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_ES_CIEMAT        </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 17 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     5.8%     </span>│
│  23   │<span style="color: #008080; text-decoration-color: #008080"> T2_DE_RWTH          </span>│<span style="color: #800080; text-decoration-color: #800080"> 11 / 294  </span>│     3.7%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  24   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_BR_UERJ          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 7 / 294   </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     2.4%     </span>│
│  25   │<span style="color: #008080; text-decoration-color: #008080"> T2_UK_SGrid_Bristol </span>│<span style="color: #800080; text-decoration-color: #800080"> 3 / 294   </span>│     1.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  26   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_ES_IFCA          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 2 / 294   </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     0.7%     </span>│
└───────┴─────────────────────┴───────────┴──────────────┘
</pre></div>
</div>
</section>
<section id="Filtering-sites">
<h3>Filtering sites<a class="headerlink" href="#Filtering-sites" title="Link to this heading"></a></h3>
<p>Grid sites can be filtered in 3 different ways - <strong>allowlist</strong>: if this list of specified, only the sites in the list are considered. No blocklist and regex are considered - <strong>blocklist</strong>: if this list is specified, those sites are excluded from the replicas - <strong>regex_sites</strong>: regex filter the sites to be considered, on top of the blocklist</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example with allowlist</span>
<span class="k">try</span><span class="p">:</span>
    <span class="p">(</span>
        <span class="n">outfiles</span><span class="p">,</span>
        <span class="n">outsites</span><span class="p">,</span>
        <span class="n">sites_counts</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="n">rucio_utils</span><span class="o">.</span><span class="n">get_dataset_files_replicas</span><span class="p">(</span>
        <span class="n">dataset</span><span class="p">,</span>
        <span class="n">allowlist_sites</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;T2_DE_DESY&quot;</span><span class="p">,</span> <span class="s2">&quot;T1_US_FNAL_Disk&quot;</span><span class="p">],</span>
        <span class="n">blocklist_sites</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">regex_sites</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">,</span>   <span class="c1"># full or first. &quot;full&quot;==all the available replicas</span>
        <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">[red bold] Exception: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">[/]&quot;</span><span class="p">)</span>

<span class="n">print_replicas</span><span class="p">(</span><span class="n">sites_counts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008080; text-decoration-color: #008080">Sites availability for dataset: </span>
<span style="color: #800000; text-decoration-color: #800000">/TTToSemiLeptonic_TuneCP5CR1_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2</span>
<span style="color: #800000; text-decoration-color: #800000">/NANOAODSIM</span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                  Available replicas                  </span>
┏━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Index </span>┃<span style="font-weight: bold"> Site            </span>┃<span style="font-weight: bold"> Files     </span>┃<span style="font-weight: bold"> Availability </span>┃
┡━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━┩
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   0   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_DE_DESY      </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 294 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   1   │<span style="color: #008080; text-decoration-color: #008080"> T1_US_FNAL_Disk </span>│<span style="color: #800080; text-decoration-color: #800080"> 193 / 294 </span>│    65.6%     │
└───────┴─────────────────┴───────────┴──────────────┘
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example with blocklist</span>
<span class="k">try</span><span class="p">:</span>
    <span class="p">(</span>
        <span class="n">outfiles</span><span class="p">,</span>
        <span class="n">outsites</span><span class="p">,</span>
        <span class="n">sites_counts</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="n">rucio_utils</span><span class="o">.</span><span class="n">get_dataset_files_replicas</span><span class="p">(</span>
        <span class="n">dataset</span><span class="p">,</span>
        <span class="n">allowlist_sites</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">blocklist_sites</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;T2_DE_DESY&quot;</span><span class="p">,</span> <span class="s2">&quot;T3_CH_PSI&quot;</span><span class="p">],</span>
        <span class="n">regex_sites</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">,</span>   <span class="c1"># full or first. &quot;full&quot;==all the available replicas</span>
        <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">[red bold] Exception: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">[/]&quot;</span><span class="p">)</span>

<span class="n">print_replicas</span><span class="p">(</span><span class="n">sites_counts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008080; text-decoration-color: #008080">Sites availability for dataset: </span>
<span style="color: #800000; text-decoration-color: #800000">/TTToSemiLeptonic_TuneCP5CR1_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2</span>
<span style="color: #800000; text-decoration-color: #800000">/NANOAODSIM</span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                    Available replicas                    </span>
┏━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Index </span>┃<span style="font-weight: bold"> Site                </span>┃<span style="font-weight: bold"> Files     </span>┃<span style="font-weight: bold"> Availability </span>┃
┡━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━┩
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   0   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_DE_KIT_Disk      </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 294 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   1   │<span style="color: #008080; text-decoration-color: #008080"> T1_UK_RAL_Disk      </span>│<span style="color: #800080; text-decoration-color: #800080"> 294 / 294 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   2   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_RU_JINR_Disk     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 294 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   3   │<span style="color: #008080; text-decoration-color: #008080"> T3_KR_UOS           </span>│<span style="color: #800080; text-decoration-color: #800080"> 294 / 294 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   4   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_US_FNAL_Disk     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 193 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    65.6%     </span>│
│   5   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Nebraska      </span>│<span style="color: #800080; text-decoration-color: #800080"> 99 / 294  </span>│    33.7%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   6   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_IT_CNAF_Disk     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 58 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    19.7%     </span>│
│   7   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Purdue        </span>│<span style="color: #800080; text-decoration-color: #800080"> 53 / 294  </span>│    18.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   8   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_BE_IIHE          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 50 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    17.0%     </span>│
│   9   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_MIT           </span>│<span style="color: #800080; text-decoration-color: #800080"> 50 / 294  </span>│    17.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  10   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_ES_PIC_Disk      </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 43 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    14.6%     </span>│
│  11   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Vanderbilt    </span>│<span style="color: #800080; text-decoration-color: #800080"> 40 / 294  </span>│    13.6%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  12   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_BR_SPRACE        </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 39 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    13.3%     </span>│
│  13   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Florida       </span>│<span style="color: #800080; text-decoration-color: #800080"> 33 / 294  </span>│    11.2%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  14   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_IT_Legnaro       </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 28 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     9.5%     </span>│
│  15   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_UCSD          </span>│<span style="color: #800080; text-decoration-color: #800080"> 28 / 294  </span>│     9.5%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  16   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_UA_KIPT          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 26 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     8.8%     </span>│
│  17   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Caltech       </span>│<span style="color: #800080; text-decoration-color: #800080"> 24 / 294  </span>│     8.2%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  18   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_US_Wisconsin     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 22 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     7.5%     </span>│
│  19   │<span style="color: #008080; text-decoration-color: #008080"> T2_TR_METU          </span>│<span style="color: #800080; text-decoration-color: #800080"> 18 / 294  </span>│     6.1%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  20   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_ES_CIEMAT        </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 17 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     5.8%     </span>│
│  21   │<span style="color: #008080; text-decoration-color: #008080"> T2_DE_RWTH          </span>│<span style="color: #800080; text-decoration-color: #800080"> 11 / 294  </span>│     3.7%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  22   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_BR_UERJ          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 7 / 294   </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     2.4%     </span>│
│  23   │<span style="color: #008080; text-decoration-color: #008080"> T2_UK_SGrid_Bristol </span>│<span style="color: #800080; text-decoration-color: #800080"> 3 / 294   </span>│     1.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  24   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_ES_IFCA          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 2 / 294   </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     0.7%     </span>│
└───────┴─────────────────────┴───────────┴──────────────┘
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example with regex</span>
<span class="k">try</span><span class="p">:</span>
    <span class="p">(</span>
        <span class="n">outfiles</span><span class="p">,</span>
        <span class="n">outsites</span><span class="p">,</span>
        <span class="n">sites_counts</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="n">rucio_utils</span><span class="o">.</span><span class="n">get_dataset_files_replicas</span><span class="p">(</span>
        <span class="n">dataset</span><span class="p">,</span>
        <span class="n">allowlist_sites</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">blocklist_sites</span><span class="o">=</span><span class="p">[],</span>
        <span class="n">regex_sites</span><span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;T[123]_(FR|IT|BE|CH|DE|ES|UK)_\w+&quot;</span><span class="p">,</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;full&quot;</span><span class="p">,</span>   <span class="c1"># full or first. &quot;full&quot;==all the available replicas</span>
        <span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">[red bold] Exception: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">[/]&quot;</span><span class="p">)</span>

<span class="n">print_replicas</span><span class="p">(</span><span class="n">sites_counts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008080; text-decoration-color: #008080">Sites availability for dataset: </span>
<span style="color: #800000; text-decoration-color: #800000">/TTToSemiLeptonic_TuneCP5CR1_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2</span>
<span style="color: #800000; text-decoration-color: #800000">/NANOAODSIM</span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                    Available replicas                    </span>
┏━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━┳━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Index </span>┃<span style="font-weight: bold"> Site                </span>┃<span style="font-weight: bold"> Files     </span>┃<span style="font-weight: bold"> Availability </span>┃
┡━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━╇━━━━━━━━━━━━━━┩
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   0   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_DE_DESY          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 294 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   1   │<span style="color: #008080; text-decoration-color: #008080"> T1_DE_KIT_Disk      </span>│<span style="color: #800080; text-decoration-color: #800080"> 294 / 294 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   2   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_UK_RAL_Disk      </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 294 / 294 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   3   │<span style="color: #008080; text-decoration-color: #008080"> T3_CH_PSI           </span>│<span style="color: #800080; text-decoration-color: #800080"> 294 / 294 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   4   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_IT_CNAF_Disk     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 58 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    19.7%     </span>│
│   5   │<span style="color: #008080; text-decoration-color: #008080"> T2_BE_IIHE          </span>│<span style="color: #800080; text-decoration-color: #800080"> 50 / 294  </span>│    17.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   6   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_ES_PIC_Disk      </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 43 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    14.6%     </span>│
│   7   │<span style="color: #008080; text-decoration-color: #008080"> T2_IT_Legnaro       </span>│<span style="color: #800080; text-decoration-color: #800080"> 28 / 294  </span>│     9.5%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   8   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_ES_CIEMAT        </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 17 / 294  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     5.8%     </span>│
│   9   │<span style="color: #008080; text-decoration-color: #008080"> T2_DE_RWTH          </span>│<span style="color: #800080; text-decoration-color: #800080"> 11 / 294  </span>│     3.7%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  10   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_UK_SGrid_Bristol </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 3 / 294   </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     1.0%     </span>│
│  11   │<span style="color: #008080; text-decoration-color: #008080"> T2_ES_IFCA          </span>│<span style="color: #800080; text-decoration-color: #800080"> 2 / 294   </span>│     0.7%     │
└───────┴─────────────────────┴───────────┴──────────────┘
</pre></div>
</div>
</section>
</section>
<section id="Using-the-DataDiscoveryCLI">
<h2>Using the DataDiscoveryCLI<a class="headerlink" href="#Using-the-DataDiscoveryCLI" title="Link to this heading"></a></h2>
<p>Manipulating the dataset query and replicas is simplified by the <code class="docutils literal notranslate"><span class="pre">DataDiscoveryCLI</span></code> class in <code class="docutils literal notranslate"><span class="pre">dataset_query</span></code> module.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">coffea.dataset_tools</span> <span class="kn">import</span> <span class="n">rucio_utils</span>
<span class="kn">from</span> <span class="nn">coffea.dataset_tools.dataset_query</span> <span class="kn">import</span> <span class="n">print_dataset_query</span>
<span class="kn">from</span> <span class="nn">rich.console</span> <span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span> <span class="nn">rich.table</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="kn">from</span> <span class="nn">coffea.dataset_tools.dataset_query</span> <span class="kn">import</span> <span class="n">DataDiscoveryCLI</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset_definition</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/RunIISummer20UL18NanoAODv9-106X*/NANOAODSIM&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;short_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ZJets&quot;</span><span class="p">,</span>
                                                                                                   <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;xsec&quot;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span><span class="s2">&quot;isMC&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">}},</span>
    <span class="s2">&quot;/SingleMuon/Run2018C-UL20*_MiniAODv2_NanoAODv9_GT36*/NANOAOD&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;short_name&quot;</span><span class="p">:</span> <span class="s2">&quot;SingleMuon&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;isMC&quot;</span><span class="p">:</span><span class="kc">False</span><span class="p">}}</span>
<span class="p">}</span>
<br/></pre></div>
</div>
</div>
<p>The dataset definition is passed to a <code class="docutils literal notranslate"><span class="pre">DataDiscoveryCLI</span></code> to automatically query rucio and get replicas</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddc</span> <span class="o">=</span> <span class="n">DataDiscoveryCLI</span><span class="p">()</span>
<span class="n">ddc</span><span class="o">.</span><span class="n">load_dataset_definition</span><span class="p">(</span><span class="n">dataset_definition</span><span class="p">,</span>
                           <span class="n">query_results_strategy</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
                           <span class="n">replicas_strategy</span><span class="o">=</span><span class="s2">&quot;round-robin&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008000; text-decoration-color: #008000">⠇</span> Querying rucio for replicas: <span style="color: #800000; text-decoration-color: #800000; font-weight: bold">/SingleMuon/Run2018C-UL2018_MiniAODv2_NanoAODv9_GT36-v1/NANOAOD</span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008080; text-decoration-color: #008080">Sites availability for dataset: </span><span style="color: #800000; text-decoration-color: #800000">/SingleMuon/Run2018C-UL2018_MiniAODv2_NanoAODv9_GT36-v1/NANOAOD</span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                   Available replicas                   </span>
┏━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Index </span>┃<span style="font-weight: bold"> Site                </span>┃<span style="font-weight: bold"> Files   </span>┃<span style="font-weight: bold"> Availability </span>┃
┡━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━━┩
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   0   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_DE_DESY          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 67 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   1   │<span style="color: #008080; text-decoration-color: #008080"> T3_KR_KISTI         </span>│<span style="color: #800080; text-decoration-color: #800080"> 67 / 67 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   2   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_TW_NCHC          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 67 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   3   │<span style="color: #008080; text-decoration-color: #008080"> T2_BE_IIHE          </span>│<span style="color: #800080; text-decoration-color: #800080"> 67 / 67 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   4   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_US_Purdue        </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 67 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   5   │<span style="color: #008080; text-decoration-color: #008080"> T2_ES_CIEMAT        </span>│<span style="color: #800080; text-decoration-color: #800080"> 67 / 67 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   6   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T3_FR_IPNL          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 67 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   7   │<span style="color: #008080; text-decoration-color: #008080"> T1_US_FNAL_Disk     </span>│<span style="color: #800080; text-decoration-color: #800080"> 61 / 67 </span>│    91.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   8   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_UK_London_IC     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 39 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    58.2%     </span>│
│   9   │<span style="color: #008080; text-decoration-color: #008080"> T1_FR_CCIN2P3_Disk  </span>│<span style="color: #800080; text-decoration-color: #800080"> 38 / 67 </span>│    56.7%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  10   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_US_Caltech       </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 26 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    38.8%     </span>│
│  11   │<span style="color: #008080; text-decoration-color: #008080"> T2_CH_CERN          </span>│<span style="color: #800080; text-decoration-color: #800080"> 25 / 67 </span>│    37.3%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  12   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_DE_RWTH          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 22 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    32.8%     </span>│
│  13   │<span style="color: #008080; text-decoration-color: #008080"> T1_IT_CNAF_Disk     </span>│<span style="color: #800080; text-decoration-color: #800080"> 20 / 67 </span>│    29.9%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  14   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_US_Wisconsin     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 16 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    23.9%     </span>│
│  15   │<span style="color: #008080; text-decoration-color: #008080"> T2_US_Florida       </span>│<span style="color: #800080; text-decoration-color: #800080"> 16 / 67 </span>│    23.9%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  16   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_US_Nebraska      </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 13 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    19.4%     </span>│
│  17   │<span style="color: #008080; text-decoration-color: #008080"> T2_TR_METU          </span>│<span style="color: #800080; text-decoration-color: #800080"> 11 / 67 </span>│    16.4%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  18   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_DE_KIT_Disk      </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 11 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    16.4%     </span>│
│  19   │<span style="color: #008080; text-decoration-color: #008080"> T2_UK_SGrid_RALPP   </span>│<span style="color: #800080; text-decoration-color: #800080"> 6 / 67  </span>│     9.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  20   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_IT_Legnaro       </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 6 / 67  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     9.0%     </span>│
│  21   │<span style="color: #008080; text-decoration-color: #008080"> T2_ES_IFCA          </span>│<span style="color: #800080; text-decoration-color: #800080"> 4 / 67  </span>│     6.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  22   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_FR_IPHC          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 2 / 67  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     3.0%     </span>│
│  23   │<span style="color: #008080; text-decoration-color: #008080"> T2_UK_London_Brunel </span>│<span style="color: #800080; text-decoration-color: #800080"> 1 / 67  </span>│     1.5%     │
└───────┴─────────────────────┴─────────┴──────────────┘
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">Replicas for <span style="color: #008000; text-decoration-color: #008000">/SingleMuon/Run2018C-UL2018_MiniAODv2_NanoAODv9_GT36-v1/NANOAOD</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_DE_DESY</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/0144EC47-BFA3-EA43-BF05-BD4248ED6031.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/2747DEFE-A247-1F42-B0EF-E7B7F1D3FCD6.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/2DA9130E-8423-304C-9902-1E42CD72E658.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/63047CC0-38C6-F74C-9A00-0DF9050F7CF1.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│       <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/8369B0EA-E4CC-AC4D-BD3F-0679B3310E09.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T3_KR_KISTI</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cms-xrdr.sdfarm.kr:1094//xrd//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">-v1/2520000/0C9615C1-7EE6-CD44-8FC0-04F63B2C16FD.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cms-xrdr.sdfarm.kr:1094//xrd//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">-v1/2520000/152C304A-97AD-1649-BCB6-3EA0CCD0DD33.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cms-xrdr.sdfarm.kr:1094//xrd//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">-v1/2520000/1CEB718A-7DC1-C74A-A7BE-A3C8D9FA785A.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cms-xrdr.sdfarm.kr:1094//xrd//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">-v1/2520000/51515E3C-C640-3A4C-A16C-DC267FD142BF.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cms-xrdr.sdfarm.kr:1094//xrd//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">-v1/2520000/7DEA3718-B7BC-EE42-A8BE-11C62BB8536D.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cms-xrdr.sdfarm.kr:1094//xrd//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">-v1/2520000/81CEA7BA-9E66-BC4F-A96F-32642D59B653.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://cms-xrdr.sdfarm.kr:1094//xrd//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36</span>
│       <span style="color: #008080; text-decoration-color: #008080">-v1/2520000/C4F476DA-3D00-334B-867C-7E12F94EE3AB.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_ES_CIEMAT</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gaexrdoor.ciemat.es:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">/2520000/12FAE9F1-7139-924C-A8DE-9699A00FC994.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gaexrdoor.ciemat.es:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">/2520000/1DD0FAC6-3087-E44E-ABCB-8AF812C1310D.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gaexrdoor.ciemat.es:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">/2520000/3FE5B677-9AB3-0245-A1CF-4B320592F18F.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gaexrdoor.ciemat.es:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">/2520000/74A75B73-E5B8-C942-BBC9-1DDDD7F752FB.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gaexrdoor.ciemat.es:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">/2520000/8C8690F8-4FEE-1047-85F4-29E414B3D12C.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://gaexrdoor.ciemat.es:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1</span>
│       <span style="color: #008080; text-decoration-color: #008080">/2520000/DA47C0B6-BCAB-C54C-A6BF-B0A64E88E3D4.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T1_FR_CCIN2P3_Disk</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/26FC8C40-EA29-804C-B17D-84FB1C6BC505.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/2D58C3FE-512A-1F48-9AEB-6F80379B8F4A.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/30A3A1AB-2F27-C84E-9437-6BB3881F6856.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│       <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/A350E2E4-705C-2C4D-9B11-3436056EEBE7.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_BE_IIHE</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://maite.iihe.ac.be:1095//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/252</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">0000/365F32F6-F971-1B4D-8E9D-C0ACD74FFB03.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://maite.iihe.ac.be:1095//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/252</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">0000/410C32AB-DEB5-404F-BC6B-92E8F560563F.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://maite.iihe.ac.be:1095//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/252</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">0000/6809B5E3-6DE6-1541-AE4C-E1804C877EDE.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://maite.iihe.ac.be:1095//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/252</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">0000/78AC6A39-C303-EB44-9264-71819CC70FCC.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://maite.iihe.ac.be:1095//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/252</span>
│       <span style="color: #008080; text-decoration-color: #008080">0000/7CCCB2C3-F210-2C42-85DF-AA00293FACFB.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_US_Purdue</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eos.cms.rcac.purdue.edu///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">2520000/37312354-59AB-E44B-BC94-CF424D4B7DDB.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eos.cms.rcac.purdue.edu///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">2520000/42DC0F42-82E8-BE47-B04D-544B67274829.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eos.cms.rcac.purdue.edu///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">2520000/D7875684-9F26-084E-9B2B-5E9BB5D353E8.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eos.cms.rcac.purdue.edu///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">2520000/FAF0C67B-A8B4-8A4F-83B1-E43675CE9630.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://eos.cms.rcac.purdue.edu///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│       <span style="color: #008080; text-decoration-color: #008080">2520000/FE5EEFA5-C07A-5C44-B66D-5B31BE02C7D3.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_US_Wisconsin</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsxrootd.hep.wisc.edu:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">-v1/2520000/39D52C69-2035-A24B-A413-40976993651D.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://cmsxrootd.hep.wisc.edu:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36</span>
│       <span style="color: #008080; text-decoration-color: #008080">-v1/2520000/FCAF4145-8E3F-2142-BDCB-5E276523B592.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_TW_NCHC</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/459261DD-4441-6047-9FF2-1EDE468452C9.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/6DDF448B-4605-5C41-9711-1C73EC5F01D3.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/7B14228A-5331-DF4E-B677-7B8AA281D460.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/7B181B92-AA2C-1E44-86FE-B074D359BBB3.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/8223C4A3-D4BD-6A4B-A513-54B6668C7122.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/A74EFE57-BAD2-C143-B8DC-817CE4F96FD7.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/AE014F55-84BE-E84E-B447-0B614070CD17.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/BCBF89A2-329C-744B-A38F-139EA8F94007.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/D8D41BBC-D514-D342-A514-CCF48575D184.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://se01.grid.nchc.org.tw//cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│       <span style="color: #008080; text-decoration-color: #008080">1/2520000/F1B3977A-E777-EC4D-8FC7-981FE4ED5E0C.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_UK_London_IC</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gfe02.grid.hep.ph.ic.ac.uk:1094//pnfs/hep.ph.ic.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOA</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">OD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2520000/59DA0585-BD57-CE49-A15E-CDBAC5473EDE.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gfe02.grid.hep.ph.ic.ac.uk:1094//pnfs/hep.ph.ic.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOA</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">OD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2520000/F16A9138-7563-E540-B6AD-8A8A688B3830.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://gfe02.grid.hep.ph.ic.ac.uk:1094//pnfs/hep.ph.ic.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOA</span>
│       <span style="color: #008080; text-decoration-color: #008080">OD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2520000/FE3D79A6-27D4-8948-A89B-2F966C5B29D4.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T1_US_FNAL_Disk</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsdcadisk.fnal.gov//dcache/uscmsdisk/store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv9_GT36-v1/2520000/62789325-3C0B-FC4D-B578-B41A396399E4.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsdcadisk.fnal.gov//dcache/uscmsdisk/store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv9_GT36-v1/2520000/6EAA5EDB-0DB3-6E40-87DC-7AB582295D29.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsdcadisk.fnal.gov//dcache/uscmsdisk/store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv9_GT36-v1/2520000/A59D511A-A419-714F-8EE1-8B8BAFEC04D5.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsdcadisk.fnal.gov//dcache/uscmsdisk/store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv9_GT36-v1/2520000/B78A9B75-3B32-CF4E-A144-375189CF48AE.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsdcadisk.fnal.gov//dcache/uscmsdisk/store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv9_GT36-v1/2520000/B9E9087C-255C-C24D-A733-FB9291DC7C3C.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsdcadisk.fnal.gov//dcache/uscmsdisk/store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv9_GT36-v1/2520000/CDD2CDF9-72D0-4045-B28F-89002077FB89.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://cmsdcadisk.fnal.gov//dcache/uscmsdisk/store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAO</span>
│       <span style="color: #008080; text-decoration-color: #008080">Dv9_GT36-v1/2520000/ED95384D-9D3D-AE45-8425-C4C080E691C5.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T1_IT_CNAF_Disk</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-cms.infn.it:1194///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│       <span style="color: #008080; text-decoration-color: #008080">2520000/648ECD9C-8AAA-BB46-8683-C8987CCC73B9.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_US_Nebraska</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-local.unl.edu:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/69ABD79C-C684-8244-9F0D-153C6B8C2D9C.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-local.unl.edu:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">1/2520000/AB8DD69D-A522-D44C-BB9C-209623F7D41A.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-local.unl.edu:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v</span>
│       <span style="color: #008080; text-decoration-color: #008080">1/2520000/B3487FE0-B172-AD47-A13A-388C0A9BF93F.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_IT_Legnaro</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://t2-xrdcms.lnl.infn.it:7070///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-</span>
│       <span style="color: #008080; text-decoration-color: #008080">v1/2520000/B1B449CE-5952-8347-A9A7-35FE231D0C72.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T3_FR_IPNL</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/BA02D468-A8CE-4F49-884F-F836BB481AD5.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/BAAA6E00-7AC3-9947-9262-D9833D3A8B19.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/CBD43A1E-AE2F-0B4D-A642-29FB2E9EB33B.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/ECD4877E-707B-EA43-A38B-D1B700FBDE79.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│       <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/F09135D8-FCBE-AF40-BCE8-03A529C5C87F.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_DE_RWTH</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://grid-cms-xrootd.physik.rwth-aachen.de:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2</span>
│       <span style="color: #008080; text-decoration-color: #008080">_NanoAODv9_GT36-v1/2520000/D40D1285-B075-D446-B1BF-86A463EF6993.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_TR_METU</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://eymir.grid.metu.edu.tr//dpm/grid.metu.edu.tr/home/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018</span>
│       <span style="color: #008080; text-decoration-color: #008080">_MiniAODv2_NanoAODv9_GT36-v1/2520000/F34F4F00-3370-EF4D-AF44-39E474E6530F.root</span>
└── <span style="color: #008000; text-decoration-color: #008000">T2_US_Florida</span>
    └── <span style="color: #008080; text-decoration-color: #008080">root://cmsio2.rc.ufl.edu:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2</span>
        <span style="color: #008080; text-decoration-color: #008080">520000/F6E44EA5-F4C6-E746-AD43-7A263F1E316E.root</span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008080; text-decoration-color: #008080">Selected datasets:</span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                                                 Selected datasets                                                 </span>
┏━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳┳┓
┃<span style="font-weight: bold"> … </span>┃<span style="font-weight: bold"> Dataset                                                                                                   </span>┃<span style="font-weight: bold"></span>┃<span style="font-weight: bold"></span>┃
┡━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇╇┩
│<span style="color: #008080; text-decoration-color: #008080"> 1 </span>│<span style="color: #800080; text-decoration-color: #800080"> /DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realisti… </span>│││
│<span style="color: #008080; text-decoration-color: #008080"> 2 </span>│<span style="color: #800080; text-decoration-color: #800080"> /SingleMuon/Run2018C-UL2018_MiniAODv2_NanoAODv9_GT36-v1/NANOAOD                                           </span>│││
└───┴───────────────────────────────────────────────────────────────────────────────────────────────────────────┴┴┘
</pre></div>
</div>
<section id="id1">
<h3>Filtering sites<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>Sites filtering works in a very similar way for <code class="docutils literal notranslate"><span class="pre">DataDiscoveryCLI</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddc</span> <span class="o">=</span> <span class="n">DataDiscoveryCLI</span><span class="p">()</span>
<span class="n">ddc</span><span class="o">.</span><span class="n">do_regex_sites</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;T[123]_(CH|IT|UK|FR|DE)_\w+&quot;</span><span class="p">)</span>
<span class="n">ddc</span><span class="o">.</span><span class="n">load_dataset_definition</span><span class="p">(</span><span class="n">dataset_definition</span><span class="p">,</span>
                           <span class="n">query_results_strategy</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
                           <span class="n">replicas_strategy</span><span class="o">=</span><span class="s2">&quot;round-robin&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008000; text-decoration-color: #008000">⠇</span> Querying rucio for replicas: <span style="color: #800000; text-decoration-color: #800000; font-weight: bold">/SingleMuon/Run2018C-UL2018_MiniAODv2_NanoAODv9_GT36-v1/NANOAOD</span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008080; text-decoration-color: #008080">Sites availability for dataset: </span><span style="color: #800000; text-decoration-color: #800000">/SingleMuon/Run2018C-UL2018_MiniAODv2_NanoAODv9_GT36-v1/NANOAOD</span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                   Available replicas                   </span>
┏━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Index </span>┃<span style="font-weight: bold"> Site                </span>┃<span style="font-weight: bold"> Files   </span>┃<span style="font-weight: bold"> Availability </span>┃
┡━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━━┩
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   0   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_DE_DESY          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 67 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    100.0%    </span>│
│   1   │<span style="color: #008080; text-decoration-color: #008080"> T3_FR_IPNL          </span>│<span style="color: #800080; text-decoration-color: #800080"> 67 / 67 </span>│    100.0%    │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   2   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_UK_London_IC     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 39 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    58.2%     </span>│
│   3   │<span style="color: #008080; text-decoration-color: #008080"> T1_FR_CCIN2P3_Disk  </span>│<span style="color: #800080; text-decoration-color: #800080"> 38 / 67 </span>│    56.7%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   4   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_CH_CERN          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 25 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    37.3%     </span>│
│   5   │<span style="color: #008080; text-decoration-color: #008080"> T2_DE_RWTH          </span>│<span style="color: #800080; text-decoration-color: #800080"> 22 / 67 </span>│    32.8%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   6   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T1_IT_CNAF_Disk     </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 20 / 67 </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">    29.9%     </span>│
│   7   │<span style="color: #008080; text-decoration-color: #008080"> T1_DE_KIT_Disk      </span>│<span style="color: #800080; text-decoration-color: #800080"> 11 / 67 </span>│    16.4%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">   8   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_UK_SGrid_RALPP   </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 6 / 67  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     9.0%     </span>│
│   9   │<span style="color: #008080; text-decoration-color: #008080"> T2_IT_Legnaro       </span>│<span style="color: #800080; text-decoration-color: #800080"> 6 / 67  </span>│     9.0%     │
│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">  10   </span>│<span style="color: #7fbfbf; text-decoration-color: #7fbfbf"> T2_FR_IPHC          </span>│<span style="color: #bf7fbf; text-decoration-color: #bf7fbf"> 2 / 67  </span>│<span style="color: #7f7f7f; text-decoration-color: #7f7f7f">     3.0%     </span>│
│  11   │<span style="color: #008080; text-decoration-color: #008080"> T2_UK_London_Brunel </span>│<span style="color: #800080; text-decoration-color: #800080"> 1 / 67  </span>│     1.5%     │
└───────┴─────────────────────┴─────────┴──────────────┘
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">Replicas for <span style="color: #008000; text-decoration-color: #008000">/SingleMuon/Run2018C-UL2018_MiniAODv2_NanoAODv9_GT36-v1/NANOAOD</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_CH_CERN</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eoscms.cern.ch//eos/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">520000/0144EC47-BFA3-EA43-BF05-BD4248ED6031.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eoscms.cern.ch//eos/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">520000/1DD0FAC6-3087-E44E-ABCB-8AF812C1310D.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eoscms.cern.ch//eos/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">520000/2747DEFE-A247-1F42-B0EF-E7B7F1D3FCD6.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eoscms.cern.ch//eos/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">520000/2DA9130E-8423-304C-9902-1E42CD72E658.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eoscms.cern.ch//eos/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">520000/39D52C69-2035-A24B-A413-40976993651D.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eoscms.cern.ch//eos/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">520000/69ABD79C-C684-8244-9F0D-153C6B8C2D9C.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://eoscms.cern.ch//eos/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">520000/7CCCB2C3-F210-2C42-85DF-AA00293FACFB.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://eoscms.cern.ch//eos/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2</span>
│       <span style="color: #008080; text-decoration-color: #008080">520000/F34F4F00-3370-EF4D-AF44-39E474E6530F.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T3_FR_IPNL</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/0C9615C1-7EE6-CD44-8FC0-04F63B2C16FD.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/30A3A1AB-2F27-C84E-9437-6BB3881F6856.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/410C32AB-DEB5-404F-BC6B-92E8F560563F.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/42DC0F42-82E8-BE47-B04D-544B67274829.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/62789325-3C0B-FC4D-B578-B41A396399E4.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/6809B5E3-6DE6-1541-AE4C-E1804C877EDE.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/78AC6A39-C303-EB44-9264-71819CC70FCC.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/A350E2E4-705C-2C4D-9B11-3436056EEBE7.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/FCAF4145-8E3F-2142-BDCB-5E276523B592.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://lyogrid06.in2p3.fr//dpm/in2p3.fr/home/cms/data//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAO</span>
│       <span style="color: #008080; text-decoration-color: #008080">Dv2_NanoAODv9_GT36-v1/2520000/FE3D79A6-27D4-8948-A89B-2F966C5B29D4.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_UK_London_IC</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gfe02.grid.hep.ph.ic.ac.uk:1094//pnfs/hep.ph.ic.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOA</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">OD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2520000/12FAE9F1-7139-924C-A8DE-9699A00FC994.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gfe02.grid.hep.ph.ic.ac.uk:1094//pnfs/hep.ph.ic.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOA</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">OD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2520000/63047CC0-38C6-F74C-9A00-0DF9050F7CF1.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gfe02.grid.hep.ph.ic.ac.uk:1094//pnfs/hep.ph.ic.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOA</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">OD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2520000/8369B0EA-E4CC-AC4D-BD3F-0679B3310E09.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gfe02.grid.hep.ph.ic.ac.uk:1094//pnfs/hep.ph.ic.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOA</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">OD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2520000/AE014F55-84BE-E84E-B447-0B614070CD17.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://gfe02.grid.hep.ph.ic.ac.uk:1094//pnfs/hep.ph.ic.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOA</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">OD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2520000/F16A9138-7563-E540-B6AD-8A8A688B3830.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://gfe02.grid.hep.ph.ic.ac.uk:1094//pnfs/hep.ph.ic.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOA</span>
│       <span style="color: #008080; text-decoration-color: #008080">OD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/2520000/FAF0C67B-A8B4-8A4F-83B1-E43675CE9630.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T1_FR_CCIN2P3_Disk</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/152C304A-97AD-1649-BCB6-3EA0CCD0DD33.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/37312354-59AB-E44B-BC94-CF424D4B7DDB.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/7B14228A-5331-DF4E-B677-7B8AA281D460.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/7B181B92-AA2C-1E44-86FE-B074D359BBB3.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/C4F476DA-3D00-334B-867C-7E12F94EE3AB.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/D8D41BBC-D514-D342-A514-CCF48575D184.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://ccxrdcms.in2p3.fr:1094/pnfs/in2p3.fr/data/cms/disk/data//store/data/Run2018C/SingleMuon/NANOAOD/UL20</span>
│       <span style="color: #008080; text-decoration-color: #008080">18_MiniAODv2_NanoAODv9_GT36-v1/2520000/FE5EEFA5-C07A-5C44-B66D-5B31BE02C7D3.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_FR_IPHC</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://sbgdcache.in2p3.fr///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/25200</span>
│       <span style="color: #008080; text-decoration-color: #008080">00/1CEB718A-7DC1-C74A-A7BE-A3C8D9FA785A.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_DE_DESY</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/26FC8C40-EA29-804C-B17D-84FB1C6BC505.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/2D58C3FE-512A-1F48-9AEB-6F80379B8F4A.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/459261DD-4441-6047-9FF2-1EDE468452C9.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/51515E3C-C640-3A4C-A16C-DC267FD142BF.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/648ECD9C-8AAA-BB46-8683-C8987CCC73B9.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/74A75B73-E5B8-C942-BBC9-1DDDD7F752FB.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/81CEA7BA-9E66-BC4F-A96F-32642D59B653.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/8223C4A3-D4BD-6A4B-A513-54B6668C7122.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/8C8690F8-4FEE-1047-85F4-29E414B3D12C.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/B78A9B75-3B32-CF4E-A144-375189CF48AE.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/BAAA6E00-7AC3-9947-9262-D9833D3A8B19.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/BCBF89A2-329C-744B-A38F-139EA8F94007.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/CBD43A1E-AE2F-0B4D-A642-29FB2E9EB33B.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/D40D1285-B075-D446-B1BF-86A463EF6993.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/DA47C0B6-BCAB-C54C-A6BF-B0A64E88E3D4.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/ECD4877E-707B-EA43-A38B-D1B700FBDE79.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/ED95384D-9D3D-AE45-8425-C4C080E691C5.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://dcache-cms-xrootd.desy.de:1094//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT</span>
│       <span style="color: #008080; text-decoration-color: #008080">36-v1/2520000/F1B3977A-E777-EC4D-8FC7-981FE4ED5E0C.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T1_DE_KIT_Disk</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsxrootd-kit-disk.gridka.de:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">9_GT36-v1/2520000/365F32F6-F971-1B4D-8E9D-C0ACD74FFB03.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsxrootd-kit-disk.gridka.de:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">9_GT36-v1/2520000/3FE5B677-9AB3-0245-A1CF-4B320592F18F.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsxrootd-kit-disk.gridka.de:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">9_GT36-v1/2520000/6DDF448B-4605-5C41-9711-1C73EC5F01D3.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://cmsxrootd-kit-disk.gridka.de:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">9_GT36-v1/2520000/6EAA5EDB-0DB3-6E40-87DC-7AB582295D29.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://cmsxrootd-kit-disk.gridka.de:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv</span>
│       <span style="color: #008080; text-decoration-color: #008080">9_GT36-v1/2520000/7DEA3718-B7BC-EE42-A8BE-11C62BB8536D.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T2_DE_RWTH</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://grid-cms-xrootd.physik.rwth-aachen.de:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">_NanoAODv9_GT36-v1/2520000/59DA0585-BD57-CE49-A15E-CDBAC5473EDE.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://grid-cms-xrootd.physik.rwth-aachen.de:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">_NanoAODv9_GT36-v1/2520000/A59D511A-A419-714F-8EE1-8B8BAFEC04D5.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://grid-cms-xrootd.physik.rwth-aachen.de:1094///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2</span>
│       <span style="color: #008080; text-decoration-color: #008080">_NanoAODv9_GT36-v1/2520000/B9E9087C-255C-C24D-A733-FB9291DC7C3C.root</span>
├── <span style="color: #008000; text-decoration-color: #008000">T1_IT_CNAF_Disk</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-cms.infn.it:1194///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">2520000/A74EFE57-BAD2-C143-B8DC-817CE4F96FD7.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-cms.infn.it:1194///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">2520000/AB8DD69D-A522-D44C-BB9C-209623F7D41A.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-cms.infn.it:1194///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">2520000/B3487FE0-B172-AD47-A13A-388C0A9BF93F.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-cms.infn.it:1194///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">2520000/CDD2CDF9-72D0-4045-B28F-89002077FB89.root</span>
│   ├── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-cms.infn.it:1194///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│   │   <span style="color: #008080; text-decoration-color: #008080">2520000/D7875684-9F26-084E-9B2B-5E9BB5D353E8.root</span>
│   └── <span style="color: #008080; text-decoration-color: #008080">root://xrootd-cms.infn.it:1194///store/data/Run2018C/SingleMuon/NANOAOD/UL2018_MiniAODv2_NanoAODv9_GT36-v1/</span>
│       <span style="color: #008080; text-decoration-color: #008080">2520000/F09135D8-FCBE-AF40-BCE8-03A529C5C87F.root</span>
└── <span style="color: #008000; text-decoration-color: #008000">T2_UK_SGrid_RALPP</span>
    ├── <span style="color: #008080; text-decoration-color: #008080">root://mover.pp.rl.ac.uk:1094/pnfs/pp.rl.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_Mini</span>
    │   <span style="color: #008080; text-decoration-color: #008080">AODv2_NanoAODv9_GT36-v1/2520000/B1B449CE-5952-8347-A9A7-35FE231D0C72.root</span>
    ├── <span style="color: #008080; text-decoration-color: #008080">root://mover.pp.rl.ac.uk:1094/pnfs/pp.rl.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_Mini</span>
    │   <span style="color: #008080; text-decoration-color: #008080">AODv2_NanoAODv9_GT36-v1/2520000/BA02D468-A8CE-4F49-884F-F836BB481AD5.root</span>
    └── <span style="color: #008080; text-decoration-color: #008080">root://mover.pp.rl.ac.uk:1094/pnfs/pp.rl.ac.uk/data/cms//store/data/Run2018C/SingleMuon/NANOAOD/UL2018_Mini</span>
        <span style="color: #008080; text-decoration-color: #008080">AODv2_NanoAODv9_GT36-v1/2520000/F6E44EA5-F4C6-E746-AD43-7A263F1E316E.root</span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008080; text-decoration-color: #008080">Selected datasets:</span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                                                 Selected datasets                                                 </span>
┏━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳┳┓
┃<span style="font-weight: bold"> … </span>┃<span style="font-weight: bold"> Dataset                                                                                                   </span>┃<span style="font-weight: bold"></span>┃<span style="font-weight: bold"></span>┃
┡━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇╇┩
│<span style="color: #008080; text-decoration-color: #008080"> 1 </span>│<span style="color: #800080; text-decoration-color: #800080"> /DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realisti… </span>│││
│<span style="color: #008080; text-decoration-color: #008080"> 2 </span>│<span style="color: #800080; text-decoration-color: #800080"> /SingleMuon/Run2018C-UL2018_MiniAODv2_NanoAODv9_GT36-v1/NANOAOD                                           </span>│││
└───┴───────────────────────────────────────────────────────────────────────────────────────────────────────────┴┴┘
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddc</span><span class="o">.</span><span class="n">do_list_selected</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008080; text-decoration-color: #008080">Selected datasets:</span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                                                 Selected datasets                                                 </span>
┏━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳┳┓
┃<span style="font-weight: bold"> … </span>┃<span style="font-weight: bold"> Dataset                                                                                                   </span>┃<span style="font-weight: bold"></span>┃<span style="font-weight: bold"></span>┃
┡━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇╇┩
│<span style="color: #008080; text-decoration-color: #008080"> 1 </span>│<span style="color: #800080; text-decoration-color: #800080"> /DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realisti… </span>│││
│<span style="color: #008080; text-decoration-color: #008080"> 2 </span>│<span style="color: #800080; text-decoration-color: #800080"> /SingleMuon/Run2018C-UL2018_MiniAODv2_NanoAODv9_GT36-v1/NANOAOD                                           </span>│││
└───┴───────────────────────────────────────────────────────────────────────────────────────────────────────────┴┴┘
</pre></div>
</div>
</section>
<section id="Save-the-replicas-metadata">
<h3>Save the replicas metadata<a class="headerlink" href="#Save-the-replicas-metadata" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddc</span><span class="o">.</span><span class="n">do_save</span><span class="p">(</span><span class="s2">&quot;replicas_info.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008000; text-decoration-color: #008000">File replicas_info.json saved!</span>
</pre></div>
</div>
</section>
</section>
<section id="DataDiscoveryCLI-from-shell">
<h2>DataDiscoveryCLI from shell<a class="headerlink" href="#DataDiscoveryCLI-from-shell" title="Link to this heading"></a></h2>
<p>The DataDiscoveryCLI can be used directly from CLI</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python<span class="w"> </span>-m<span class="w"> </span>coffea.dataset_tools.dataset_query<span class="w"> </span>--help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
usage: dataset_query.py [-h] [--cli] [-d DATASET_DEFINITION] [-o OUTPUT]
                        [-fo FILESET_OUTPUT] [-p] [--step-size STEP_SIZE]
                        [--dask-cluster DASK_CLUSTER]
                        [-as ALLOW_SITES [ALLOW_SITES ...]]
                        [-bs BLOCK_SITES [BLOCK_SITES ...]] [-rs REGEX_SITES]
                        [--query-results-strategy QUERY_RESULTS_STRATEGY]
                        [--replicas-strategy REPLICAS_STRATEGY]

options:
  -h, --help            show this help message and exit
  --cli                 Start the dataset discovery CLI
  -d DATASET_DEFINITION, --dataset-definition DATASET_DEFINITION
                        Dataset definition file
  -o OUTPUT, --output OUTPUT
                        Output name for dataset discovery output (no fileset
                        preprocessing)
  -fo FILESET_OUTPUT, --fileset-output FILESET_OUTPUT
                        Output name for fileset
  -p, --preprocess      Preprocess with dask
  --step-size STEP_SIZE
                        Step size for preprocessing
  --dask-cluster DASK_CLUSTER
                        Dask cluster url
  -as ALLOW_SITES [ALLOW_SITES ...], --allow-sites ALLOW_SITES [ALLOW_SITES ...]
                        List of sites to be allowlisted
  -bs BLOCK_SITES [BLOCK_SITES ...], --block-sites BLOCK_SITES [BLOCK_SITES ...]
                        List of sites to be blocklisted
  -rs REGEX_SITES, --regex-sites REGEX_SITES
                        Regex string to be used to filter the sites
  --query-results-strategy QUERY_RESULTS_STRATEGY
                        Mode for query results selection: [all|manual]
  --replicas-strategy REPLICAS_STRATEGY
                        Mode for selecting replicas for datasets:
                        [manual|round-robin|choose]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python<span class="w"> </span>-m<span class="w"> </span>coffea.dataset_tools.dataset_query<span class="w"> </span>--cli<span class="w">  </span>-d<span class="w"> </span>dataset_definition.json
</pre></div>
</div>
</div>
</section>
<section id="Preprocess-the-fileset-with-dask">
<h2>Preprocess the fileset with dask<a class="headerlink" href="#Preprocess-the-fileset-with-dask" title="Link to this heading"></a></h2>
<p>The replicas metadata contain the file location in the CMS grid. This info can be <strong>preprocessed</strong> with uproot and dask-awkward to extract the <strong>fileset</strong>. Practically a fileset is a collection of metadata about the file location, file name, chunks splitting, that can be used directly to configure the uproot reading.</p>
<p>This step replaces the preprocessing step in coffea 0.7.x. The output of the preprocessing can be used directly to start an analysis with dask-awkward.</p>
<p>The preprocessing is performed locally with multiple processes if <code class="docutils literal notranslate"><span class="pre">dask_cluster==None</span></code>, but a pre-existing dask cluster url can be passed.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fileset_total</span> <span class="o">=</span> <span class="n">ddc</span><span class="o">.</span><span class="n">do_preprocess</span><span class="p">(</span><span class="n">output_file</span><span class="o">=</span><span class="s2">&quot;fileset&quot;</span><span class="p">,</span>
                  <span class="n">step_size</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span>  <span class="c1">#chunk size for files splitting</span>
                  <span class="n">align_to_clusters</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">dask_cluster</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #008000; text-decoration-color: #008000">⠙</span> <span style="color: #800000; text-decoration-color: #800000"> Preprocessing files to extract available chunks with dask</span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">Saved available fileset chunks to fileset_available.json.gz
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">Saved all fileset chunks to fileset_all.json.gz
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gzip</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="k">with</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;fileset_available.json.gz&quot;</span><span class="p">,</span> <span class="s2">&quot;rt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">fileset_available</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="s1">&#39;/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v2/NANOAODSIM&#39;</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">meta</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">fileset_available</span><span class="p">[</span><span class="n">dataset</span><span class="p">][</span><span class="s2">&quot;files&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">meta</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">:</span> <span class="k">break</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
root://cmsxrd.ts.infn.it:1094///store/mc/RunIISummer20UL18NanoAODv9/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/NANOAODSIM/106X_upgrade2018_realistic_v16_L1v1-v2/100000/13D0AD97-6B32-CB4C-BA87-5E37BA4CF20E.root {&#39;object_path&#39;: &#39;Events&#39;, &#39;steps&#39;: [[0, 10000], [10000, 20000], [20000, 30000], [30000, 40000], [40000, 50000], [50000, 59081]], &#39;uuid&#39;: &#39;fbe50b00-1f7e-11ec-97b8-2bbee183beef&#39;}
root://cmsxrd.ts.infn.it:1094///store/mc/RunIISummer20UL18NanoAODv9/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/NANOAODSIM/106X_upgrade2018_realistic_v16_L1v1-v2/230000/00C9792D-ACD2-2547-BB04-097F0C4E47E3.root {&#39;object_path&#39;: &#39;Events&#39;, &#39;steps&#39;: [[0, 10000], [10000, 20000], [20000, 30000], [30000, 40000], [40000, 50000], [50000, 60000], [60000, 70000], [70000, 80000], [80000, 90000], [90000, 100000], [100000, 110000], [110000, 120000], [120000, 130000], [130000, 138192]], &#39;uuid&#39;: &#39;938a4fe2-1d77-11ec-bddf-59319e86beef&#39;}
root://dcache-cms-xrootd.desy.de:1094//store/mc/RunIISummer20UL18NanoAODv9/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/NANOAODSIM/106X_upgrade2018_realistic_v16_L1v1-v2/230000/00EA9563-5449-D24E-9566-98AE8E2A61AE.root {&#39;object_path&#39;: &#39;Events&#39;, &#39;steps&#39;: [[0, 10000], [10000, 20000], [20000, 30000], [30000, 40000], [40000, 50000], [50000, 60000], [60000, 70000], [70000, 80000], [80000, 90000], [90000, 100000], [100000, 110000], [110000, 120000], [120000, 130000], [130000, 140000], [140000, 150000], [150000, 160000], [160000, 170000], [170000, 180000], [180000, 190000], [190000, 200000], [200000, 210000], [210000, 220000], [220000, 230000], [230000, 240000], [240000, 250000], [250000, 260000], [260000, 270000], [270000, 280000], [280000, 290000], [290000, 300000], [300000, 310000], [310000, 320000], [320000, 330000], [330000, 340000], [340000, 350000], [350000, 360000], [360000, 370000], [370000, 380000], [380000, 390000], [390000, 400000], [400000, 410000], [410000, 420000], [420000, 430000], [430000, 440000], [440000, 450000], [450000, 460000], [460000, 470000], [470000, 480000], [480000, 490000], [490000, 500000], [500000, 510000], [510000, 520000], [520000, 530000], [530000, 540000], [540000, 550000], [550000, 560000], [560000, 570000], [570000, 580000], [580000, 590000], [590000, 600000], [600000, 610000], [610000, 620000], [620000, 630000], [630000, 640000], [640000, 650000], [650000, 660000], [660000, 670000], [670000, 680000], [680000, 690000], [690000, 700000], [700000, 710000], [710000, 720000], [720000, 730000], [730000, 740000], [740000, 750000], [750000, 760000], [760000, 770000], [770000, 780000], [780000, 790000], [790000, 800000], [800000, 810000], [810000, 820000], [820000, 830000], [830000, 840000], [840000, 850000], [850000, 860000], [860000, 870000], [870000, 880000], [880000, 890000], [890000, 900000], [900000, 910000], [910000, 920000], [920000, 930000], [930000, 940000], [940000, 950000], [950000, 960000], [960000, 970000], [970000, 980000], [980000, 990000], [990000, 1000000], [1000000, 1010000], [1010000, 1020000], [1020000, 1030000], [1030000, 1040000], [1040000, 1050000], [1050000, 1060000], [1060000, 1070000], [1070000, 1080000], [1080000, 1090000], [1090000, 1100000], [1100000, 1110000], [1110000, 1120000], [1120000, 1130000], [1130000, 1140000], [1140000, 1150000], [1150000, 1160000], [1160000, 1170000], [1170000, 1180000], [1180000, 1190000], [1190000, 1200000], [1200000, 1210000], [1210000, 1220000], [1220000, 1230000], [1230000, 1240000], [1240000, 1250000], [1250000, 1260000], [1260000, 1270000], [1270000, 1280000], [1280000, 1290000], [1290000, 1300000], [1300000, 1310000], [1310000, 1320000], [1320000, 1330000], [1330000, 1340000], [1340000, 1350000], [1350000, 1360000], [1360000, 1370000], [1370000, 1380000], [1380000, 1390000], [1390000, 1400000], [1400000, 1410000], [1410000, 1420000], [1420000, 1430000], [1430000, 1440000], [1440000, 1450000], [1450000, 1460000], [1460000, 1470000], [1470000, 1480000], [1480000, 1490000], [1490000, 1500000], [1500000, 1510000], [1510000, 1520000], [1520000, 1530000], [1530000, 1540000], [1540000, 1550000], [1550000, 1551326]], &#39;uuid&#39;: &#39;ced110a0-1b0f-11ec-b2e9-09c08e80beef&#39;}
root://grid-cms-xrootd.physik.rwth-aachen.de:1094///store/mc/RunIISummer20UL18NanoAODv9/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/NANOAODSIM/106X_upgrade2018_realistic_v16_L1v1-v2/230000/068B0797-DEF5-9341-BBBE-EDBE50EBC6A1.root {&#39;object_path&#39;: &#39;Events&#39;, &#39;steps&#39;: [[0, 10000], [10000, 20000], [20000, 30000], [30000, 40000], [40000, 50000], [50000, 60000], [60000, 70000], [70000, 80000], [80000, 90000], [90000, 100000], [100000, 110000], [110000, 120000], [120000, 130000], [130000, 140000], [140000, 150000], [150000, 160000], [160000, 170000], [170000, 180000], [180000, 190000], [190000, 200000], [200000, 210000], [210000, 220000], [220000, 230000], [230000, 240000], [240000, 250000], [250000, 260000], [260000, 270000], [270000, 280000], [280000, 290000], [290000, 300000], [300000, 310000], [310000, 320000], [320000, 330000], [330000, 340000], [340000, 350000], [350000, 360000], [360000, 370000], [370000, 380000], [380000, 390000], [390000, 400000], [400000, 410000], [410000, 420000], [420000, 430000], [430000, 440000], [440000, 450000], [450000, 460000], [460000, 470000], [470000, 480000], [480000, 490000], [490000, 500000], [500000, 510000], [510000, 520000], [520000, 530000], [530000, 540000], [540000, 550000], [550000, 560000], [560000, 570000], [570000, 580000], [580000, 590000], [590000, 600000], [600000, 610000], [610000, 620000], [620000, 630000], [630000, 640000], [640000, 650000], [650000, 660000], [660000, 670000], [670000, 680000], [680000, 690000], [690000, 700000], [700000, 710000], [710000, 720000], [720000, 730000], [730000, 740000], [740000, 750000], [750000, 760000], [760000, 770000], [770000, 780000], [780000, 790000], [790000, 800000], [800000, 810000], [810000, 820000], [820000, 830000], [830000, 840000], [840000, 850000], [850000, 860000], [860000, 870000], [870000, 880000], [880000, 890000], [890000, 900000], [900000, 910000], [910000, 920000], [920000, 930000], [930000, 940000], [940000, 950000], [950000, 960000], [960000, 970000], [970000, 980000], [980000, 990000], [990000, 1000000], [1000000, 1010000], [1010000, 1020000], [1020000, 1030000], [1030000, 1040000], [1040000, 1050000], [1050000, 1060000], [1060000, 1070000], [1070000, 1080000], [1080000, 1090000], [1090000, 1100000], [1100000, 1110000], [1110000, 1120000], [1120000, 1130000], [1130000, 1138724]], &#39;uuid&#39;: &#39;d86ab2e2-1b28-11ec-8504-738a8e80beef&#39;}
root://cmsxrd.ts.infn.it:1094///store/mc/RunIISummer20UL18NanoAODv9/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/NANOAODSIM/106X_upgrade2018_realistic_v16_L1v1-v2/230000/0CFD79EF-41AB-4B4A-8F62-06393273EEDE.root {&#39;object_path&#39;: &#39;Events&#39;, &#39;steps&#39;: [[0, 10000], [10000, 20000], [20000, 30000], [30000, 40000], [40000, 50000], [50000, 60000], [60000, 70000], [70000, 80000], [80000, 90000], [90000, 100000], [100000, 110000], [110000, 120000], [120000, 130000], [130000, 140000], [140000, 150000], [150000, 160000], [160000, 170000], [170000, 180000], [180000, 190000], [190000, 200000], [200000, 210000], [210000, 220000], [220000, 230000], [230000, 240000], [240000, 250000], [250000, 260000], [260000, 270000], [270000, 280000], [280000, 290000], [290000, 300000], [300000, 310000], [310000, 320000], [320000, 330000], [330000, 340000], [340000, 350000], [350000, 360000], [360000, 370000], [370000, 380000], [380000, 390000], [390000, 400000], [400000, 410000], [410000, 420000], [420000, 430000], [430000, 440000], [440000, 450000], [450000, 460000], [460000, 470000], [470000, 480000], [480000, 490000], [490000, 500000], [500000, 510000], [510000, 520000], [520000, 530000], [530000, 540000], [540000, 550000], [550000, 560000], [560000, 570000], [570000, 580000], [580000, 590000], [590000, 600000], [600000, 610000], [610000, 620000], [620000, 630000], [630000, 640000], [640000, 650000], [650000, 660000], [660000, 670000], [670000, 680000], [680000, 690000], [690000, 700000], [700000, 710000], [710000, 720000], [720000, 730000], [730000, 740000], [740000, 750000], [750000, 760000], [760000, 770000], [770000, 780000], [780000, 790000], [790000, 800000], [800000, 810000], [810000, 820000], [820000, 830000], [830000, 840000], [840000, 850000], [850000, 860000], [860000, 870000], [870000, 880000], [880000, 890000], [890000, 900000], [900000, 910000], [910000, 911868]], &#39;uuid&#39;: &#39;9d799986-1ad9-11ec-9257-fc1b1e0abeef&#39;}
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mltools.html" class="btn btn-neutral float-left" title="Running inference tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="packedselection.html" class="btn btn-neutral float-right" title="PackedSelection in Coffea 2023" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Fermi National Accelerator Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>